## Publishing with Bookdown on GitHub Pages
*by [Jack Dougherty](#contributors)*

TO DO: Include a longer introduction on why it matters, and then how we publish with Bookdown on GitHub Pages with custom domain
Note: See also way to include hypothesis commenting and other open review tools at: https://benmarwick.github.io/bookdown-ort/

#### GitHub and Bookdown reminders {-}
- GitHub Pages set to publish from  `master/docs`
- Bookdown settings: build all book formats into the `docs` folder
- GitHub Pages custom domain setting adds `CNAME` file to `docs` folder; do not delete
- Manually move `404.html` into 'docs' folder, since not auto-built; do not delete
- *CHECK* if `google-analytics-otl.html` needs to be manually placed in `docs` folder
- Manually add X.X-footer.Rmd to end of each chapter
- For final PDF and eBook build, remove cover image and footers

#### Markdown/bookdown reminders {-}

**Hint:** View syntax in the raw file on GitHub: <https://github.com/ontheline/otl-book>

Use brackets and parentheses for an [embedded link](http://example.com)

Use parentheses only for a non-embedded link (http://example.com)

Similarly, display URL with angle brackets: <http://example.com>

If necessary, use HTML to create <a href="http://example.com/" target="_blank">link that opens in a new page</a>

For cross-reference links, refer to default ID name of chapter or section header:
`## Contributors` = #contributors
`## A Longer Header` = #a-longer-header

To simplify longer chapter titles, add short hashtag in curly brackets as ID:
`# Defining City and Suburban Lines {#defining}`

Embed a cross-reference link to chapter or section header, with brackets and parenthesis:

*by [Jack Dougherty](#contributors)*

OR

see [Chapter One: Defining City and Suburban Lines](#defining)

Hide numbers from appearing in section headers with curly brackets around hyphen:

`## Outline of the Book {-}``


For an em-dash, use three hyphens---like this---rather than two hyphens.

Block quote:

> "I thoroughly disapprove of duels. If a man should challenge me,
  I would take him kindly and forgivingly by the hand and lead him
  to a quiet place and kill him."
>
> --- Mark Twain

A text-only footnote.^[This is a footnote, with no reference]

BibText footnote with semi-colons to separate cites: [@hirschMakingSecondGhetto1983; @jacksonCrabgrassFrontierSuburbanization1985; @tyackOneBestSystem1974]

Markdown caret-footnote, which can accept multiple references with complex punctuation.^[On this theme, see @doughertyReviewConnecticutPublic2011. On a different theme, see @doughertySchoolChoiceSuburbia2009, pp. 33-35]

#### Subheadings need four hashtags and no-number symbol {-}
Using three hashtags makes the subheader appear in the TOC because I have not found way to control toc_depth in web output. Use the no-number symbol to prevent automatic number of subheaders.

Insert image using Markdown syntax:

![Using markdown: auto-number does not appear in web, but appears in pdf, text *with italics*, no center-alignment on web, but centered in PDF, with [source link](https://google.com), with caret-footnote.^[@doughertySchoolChoiceSuburbia2009]](images/1890-MabelFlorenceWhite-ZoomIn-HPHS-SeniorClass.jpg)

** Use 5 hashtags for digital image headers **, and imperative verbs to hint interactive use

##### Explore the Chart: embedded HTML iframe {-}
<iframe src="https://jackdougherty.github.io/highcharts-scatter-csv-instructor-sample/" width="90%" height="420px"></iframe>
Write caption immediately afterwards in body text.

##### Scroll the map: embedded HTML iframe {-}
<iframe src="https://ontheline.github.io/otl-town-borders/" width="90%" height="525px"></iframe>
Scroll down the narrative (or click and use arrow keys) to see how Hartford County, Connecticut divided into 29 separate towns from the early 1600s to the late 1800s. Boundaries shown here are not exact, but approximated from the best available digital sources: [UConn Libraries MAGIC historical maps](http://magic.lib.uconn.edu), [Atlas of Historical County Boundaries at Newberry Library](http://publications.newberry.org/ahcbp/pages/Connecticut.html), and the [Connecticut State Register and Manual](http://www.ct.gov/sots/cwp/view.asp?a=3188&q=392440). See sources, known issues, and the code by Ilyana Ilyankou and Jack Dougherty, Trinity College at <https://github.com/ontheline/otl-town-borders/>. Insert short refs/links and footnotes in caption when possible.

##### Play YouTube video: embedded HTML iframe from secure https {-}
<iframe width="560" height="315" src="https://www.youtube.com/embed/Gl3uIRYYUmI?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
Write caption immediately afterwards in body text.

##### Consider using more complex R codes for final PDF production {-}

Image inserted with R code:

```{r fig.cap='Using R code: auto-number appears in web and pdf, centered, resized at 90 percent, but not sure how to format footnotes or italics', out.width='90%', fig.align='center', echo=FALSE}
knitr::include_graphics("images/1890-MabelFlorenceWhite-ZoomIn-HPHS-SeniorClass.jpg")
```

Insert URL with R code:

```{r fig.cap='URL inserted using R code: centered, resized at 90 percent, not sure how to format footnotes or italics', out.width='90%', out.height='110%', fig.align='center', echo=FALSE}
knitr::include_url("https://jackdougherty.github.io/highcharts-scatter-csv-instructor-sample/")
```

To do: learn more about R codes <https://bookdown.org/yihui/bookdown/web-pages-and-shiny-apps.html>
