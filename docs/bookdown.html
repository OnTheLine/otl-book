<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.3 Building with Bookdown, GitHub, and Zotero | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</title>
  <meta name="description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="9.3 Building with Bookdown, GitHub, and Zotero | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://ontheline.trincoll.edu/" />
  <meta property="og:image" content="http://ontheline.trincoll.edu/images/coverOTL300x300.png" />
  <meta property="og:description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="github-repo" content="ontheline/otl-bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.3 Building with Bookdown, GitHub, and Zotero | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta name="twitter:site" content="@doughertyjack" />
  <meta name="twitter:description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="twitter:image" content="http://ontheline.trincoll.edu/images/coverOTL300x300.png" />

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="and contributors" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="digital-history-dialogue.html"/>
<link rel="next" href="style-guide.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script>
  // adjust web edition height or width of iframe for specific figure references, using tilde (~iframe)
$(document).ready(function() {
  $("#fig\\:1910-2010-otl-home-value~iframe").attr("height", "640px");
  $("#fig\\:1910-2010-otl-home-value2~iframe").attr("height", "640px");
  $("#fig\\:1876-scribners-monthly~iframe").attr("height", "660px");
  $("#fig\\:1876-scribners-monthly~iframe").attr("width", "100%");
  $("#fig\\:1876-scribners-monthly2~iframe").attr("height", "660px");
  $("#fig\\:1876-scribners-monthly2~iframe").attr("width", "100%");
  $("#fig\\:1600s-otl-town-borders~iframe").attr("height", "600px");
  $("#fig\\:1600s-otl-town-borders~iframe").attr("width", "100%");
  $("#fig\\:2020-otl-oldschoolct~iframe").attr("height", "625px");
  $("#fig\\:2020-otl-oldschoolct~iframe").attr("width", "100%");
  $("#fig\\:1937-otl-redlining~iframe").attr("height", "600px");
  $("#fig\\:1937-otl-redlining~iframe").attr("width", "100%");
  $("#fig\\:2018-redlining-america~iframe").attr("height", "600px");
  $("#fig\\:2018-redlining-america~iframe").attr("width", "100%");
  $("#fig\\:1933-chart-holc-fha~iframe").attr("height", "460px");
  $("#fig\\:1940-otl-covenants~iframe").attr("height", "500px");
  $("#fig\\:1940-otl-covenants2~iframe").attr("height", "500px");

  $("#fig\\:sample-interactive~iframe").attr("height", "600px");
  $("#fig\\:sample-interactive~iframe").attr("width", "100%");
})
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5488840-4', 'auto');
  ga('send', 'pageview');

</script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>On the Line</strong><br>by Jack Dougherty & contributors</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html"><i class="fa fa-check"></i>About the Book</a></li>
<li class="chapter" data-level="" data-path="how-to-read-and-cite.html"><a href="how-to-read-and-cite.html"><i class="fa fa-check"></i>How to Read and Cite</a></li>
<li class="chapter" data-level="" data-path="authors-and-contributors.html"><a href="authors-and-contributors.html"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="copyright-with-open-access.html"><a href="copyright-with-open-access.html"><i class="fa fa-check"></i>Copyright with Open Access</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> My Introduction to the Lines</a>
<ul>
<li class="chapter" data-level="1.1" data-path="bridging.html"><a href="bridging.html"><i class="fa fa-check"></i><b>1.1</b> Bridging the History Gap</a></li>
<li class="chapter" data-level="1.2" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i><b>1.2</b> Outline of the Book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="defining.html"><a href="defining.html"><i class="fa fa-check"></i><b>2</b> Defining City and Suburban Lines</a>
<ul>
<li class="chapter" data-level="2.1" data-path="richest.html"><a href="richest.html"><i class="fa fa-check"></i><b>2.1</b> The Richest City in the Nation</a></li>
<li class="chapter" data-level="2.2" data-path="carving.html"><a href="carving.html"><i class="fa fa-check"></i><b>2.2</b> Carving Up Town Boundaries</a></li>
<li class="chapter" data-level="2.3" data-path="golden.html"><a href="golden.html"><i class="fa fa-check"></i><b>2.3</b> A Golden Age for City Schools</a></li>
<li class="chapter" data-level="2.4" data-path="rural.html"><a href="rural.html"><i class="fa fa-check"></i><b>2.4</b> Challenges for Rural and Early Suburban Schools</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="separating.html"><a href="separating.html"><i class="fa fa-check"></i><b>3</b> Separating with Color and Class Lines</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lending.html"><a href="lending.html"><i class="fa fa-check"></i><b>3.1</b> Federal Lending and Redlining</a></li>
<li class="chapter" data-level="3.2" data-path="restricting.html"><a href="restricting.html"><i class="fa fa-check"></i><b>3.2</b> Restricting with Property Covenants</a></li>
<li class="chapter" data-level="3.3" data-path="public-housing.html"><a href="public-housing.html"><i class="fa fa-check"></i><b>3.3</b> Racial Barriers to Public Housing</a></li>
<li class="chapter" data-level="3.4" data-path="zoning.html"><a href="zoning.html"><i class="fa fa-check"></i><b>3.4</b> Origins of Exclusionary Zoning</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="selling.html"><a href="selling.html"><i class="fa fa-check"></i><b>4</b> Selling and Shopping the Lines</a></li>
<li class="chapter" data-level="5" data-path="challenging.html"><a href="challenging.html"><i class="fa fa-check"></i><b>5</b> Challenging the Power Lines</a>
<ul>
<li class="chapter" data-level="5.1" data-path="mobilizing.html"><a href="mobilizing.html"><i class="fa fa-check"></i><b>5.1</b> Mobilizing Against Racial Steering and Redlining</a></li>
<li class="chapter" data-level="5.2" data-path="jumping.html"><a href="jumping.html"><i class="fa fa-check"></i><b>5.2</b> Jumping the School District Line</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="choosing.html"><a href="choosing.html"><i class="fa fa-check"></i><b>6</b> Choosing to Cross the Lines</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Where Do We Draw the Line?</a></li>
<li class="chapter" data-level="8" data-path="teaching-researching.html"><a href="teaching-researching.html"><i class="fa fa-check"></i><b>8</b> Teaching and Researching <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="8.1" data-path="investigating.html"><a href="investigating.html"><i class="fa fa-check"></i><b>8.1</b> Investigating Spatial Inequality with the Cities Suburbs and Schools Project</a></li>
<li class="chapter" data-level="8.2" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>8.2</b> Writing Greater Hartford’s Civil Rights Past with ConnecticutHistory.org</a></li>
<li class="chapter" data-level="8.3" data-path="teaching-oral-history.html"><a href="teaching-oral-history.html"><i class="fa fa-check"></i><b>8.3</b> Teaching Oral History</a></li>
<li class="chapter" data-level="8.4" data-path="who-owns-oral-history.html"><a href="who-owns-oral-history.html"><i class="fa fa-check"></i><b>8.4</b> Who Owns Oral History? A Creative Commons Solution</a></li>
<li class="chapter" data-level="8.5" data-path="oral-history-consent.html"><a href="oral-history-consent.html"><i class="fa fa-check"></i><b>8.5</b> Oral History Consent Form</a></li>
<li class="chapter" data-level="8.6" data-path="covenants.html"><a href="covenants.html"><i class="fa fa-check"></i><b>8.6</b> How We Found Restrictive Covenants</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mapping-publishing.html"><a href="mapping-publishing.html"><i class="fa fa-check"></i><b>9</b> Mapping and Publishing <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="9.1" data-path="maps-and-charts.html"><a href="maps-and-charts.html"><i class="fa fa-check"></i><b>9.1</b> Maps and Charts by Year</a></li>
<li class="chapter" data-level="9.2" data-path="digital-history-dialogue.html"><a href="digital-history-dialogue.html"><i class="fa fa-check"></i><b>9.2</b> A Digital History Dialogue</a></li>
<li class="chapter" data-level="9.3" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>9.3</b> Building with Bookdown, GitHub, and Zotero</a></li>
<li class="chapter" data-level="9.4" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i><b>9.4</b> Style Guide for Bookdown + RMarkdown in <em>On The Line</em></a></li>
<li class="chapter" data-level="9.5" data-path="alternative.html"><a href="alternative.html"><i class="fa fa-check"></i><b>9.5</b> Alternative Publishing Platforms</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>10</b> Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://acpress.amherst.edu/" target="_blank">Open access book-in-progress</br>for Amherst College Press</a></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bookdown" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Building with Bookdown, GitHub, and Zotero</h2>
<p><em>by <a href="authors-and-contributors.html">Jack Dougherty and Ilya Ilyankou</a> Technical feedback on this page is welcome on <a href="https://twitter.com/doughertyjack">Twitter</a> or directly on the public GitHub repo for this chapter<a href="https://github.com/OnTheLine/otl-bookdown/blob/master/09.3-bookdown.Rmd" class="uri">https://github.com/OnTheLine/otl-bookdown/blob/master/09.3-bookdown.Rmd</a>.</em></p>
<p>This open-access book is built with free-to-use, open-source tools—primarily Bookdown, GitHub, and Zotero—and this chapter explains how, so that readers may do it themselves and share their knowledge to improve the process. The broad goal of this workflow is for authors to compose one document that is generated into multiple book products: an HTML web edition to read online, a PDF print edition for traditional book publishing, and a Microsoft Word edition for editors who insist on it for copyediting. For this book, the web edition is preferably because only it displays interactive online content (such as interactive maps, scrollable sources, and video clips), which appear as static images in the print edition. But endnotes to source materials in body chapters are clearly visible in both the web and print editions, rather than hidden inside links, so that either version is a complete stand-alone text for future generations. Whenever possible, clickable links have been added to help readers view sources that are available online. (In technical chapters like this one, some source notes are hidden inside links.) See more details in the <a href="style-guide.html">On The Line style guide</a> in the next chapter.</p>
<!--TODO: Diagram adapted from https://bookdown.org/yihui/rmarkdown-cookbook/r-markdown-components.html. Additional icons with rights statements from https://www.zotero.org/support/brand, https://www.r-project.org/logo/, and https://blog.rstudio.com/2018/07/25/revamped-bookdown-org/. TODO: Due to more restrictive policies, did not include logos for https://github.com/logos or https://rstudio.com/about/logos/ but can revisit in future. -->

<div class="figure"><span id="fig:0-workflow"></span>
<img src="images/bookdown/0-workflow.png" alt="Simplified diagram of workflow to compose, compile, and publish this book, adapted from Yihui Xie, R Markdown Cookbook, chapter 2.1."  />
<p class="caption">
Image 9.1: Simplified diagram of workflow to compose, compile, and publish this book, adapted from Yihui Xie, <em>R Markdown Cookbook</em>, chapter 2.1.
</p>
</div>
<div id="overview" class="section level3 unnumbered" number="">
<h3>Overview</h3>
<ul>
<li><a href="http://bookdown.org">Bookdown</a>, an open-source software package by Yihui Xie at RStudio, allows authors to compose in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, an easy-to-read-and-write cross-platform syntax, and create one workflow that produces books in multiple formats, such as HTML Web edition, PDF print edition, MS Word edition, ePUB edition, etc. Furthermore, Bookdown generates the Web edition as a set of static-site HTML files, which display interactive digital elements (such as zoomable maps, scrollable documents, and video clips) and load very quickly into readers’ web browsers. Individual authors can install Bookdown on their Mac, Windows, or Linux computers, and publish their work through a free and simple GitHub Pages account, rather alternative book publishing platforms that require maintaining a complex web server. Bookdown requires installing the open-source <a href="https://www.r-project.org/">R Project</a> and <a href="https://www.rstudio.com/">RStudio console and editor</a>, which are commonly used in the field of statistical data analysis. Behind the scenes, Bookdown converts the text of the book from R-flavored Markdown files into multiple editions of the book using software packages such as <a href="https://pandoc.org/">PanDoc</a>, an open-source universal document converter, without requiring authors to learn complex Pandoc instructions. Although Bookdown may not be the best choice for novice computer users, installation steps are outlined below, along with a recommended workflow for authoring and publishing with GitHub and Zotero.<a href="#fn195" class="footnote-ref" id="fnref195"><sup>195</sup></a></li>
<li><a href="http://github.com">GitHub</a> is an open-source repository that enables us to publicly share the text and code in this book, with a version-control system that allows collaborators to work on different sections at the same time. Also, the <a href="http://pages.github.com">GitHub Pages</a> feature allows us to freely host online all of the book editions (Web, PDF, etc.), with a custom domain name purchased through another service, <a href="http://reclaimhosting.com">Reclaim Hosting</a>. Since this is an open-access publication, the contents are intentionally public while working on the book, which is consistent with the contract signed with the open-access publisher. Note that GitHub also allows users the option, if desired, to make their repositories private.</li>
<li><a href="http://zotero.org">Zotero</a> is an open-source bibliography manager to collect sources and organize citations, created by the Roy Rosenzweig Center for History and New Media at George Mason University. <a href="https://github.com/retorquere/zotero-better-bibtex">Better BibTeX</a> is an extension by Emiliano Heynes that makes Zotero citation keys work better with Markdown text workflows. While Bookdown does not require using Zotero, scholars who need to manage multiple source materials and citations will benefit from the Bookdown—Zotero—Better BibTeX workflow described below.</li>
</ul>
<p>Before leaping into Bookdown or any software tool, see <a href="alternative.html">Alternative Publishing Platforms</a> in this book.</p>

<div class="figure"><span id="fig:0-workflow2-desktop"></span>
<img src="images/bookdown/0-workflow2-desktop.png" alt="Overview of the workflow on a Mac desktop: Compose and build the book in RStudio with Bookdown (top left), manage sources and insert citation keys with Zotero + BetterBibTex (bottom left), and push the built book files to GitHub Pages with settings shown via web browser to share online (right)."  />
<p class="caption">
Image 9.2: Overview of the workflow on a Mac desktop: Compose and build the book in RStudio with Bookdown (top left), manage sources and insert citation keys with Zotero + BetterBibTex (bottom left), and push the built book files to GitHub Pages with settings shown via web browser to share online (right).
</p>
</div>

<div class="figure"><span id="fig:0-workflow3-atom"></span>
<img src="images/bookdown/0-workflow3-atom.png" alt="Optional variation on the workflow above: Use your preferred text editor, such as Atom, to compose Bookdown files in .Rmd format, as shown on the left side of the screen, and save all files on your local drive. Then use RStudio only to build the book products, as shown in the bottom-right corner of the screen, into the docs subfolder of your local drive. All changes saved with Atom editor to the local drive automatically appear in the RStudio pre-build files."  />
<p class="caption">
Image 9.3: Optional variation on the workflow above: Use your preferred text editor, such as Atom, to compose Bookdown files in .Rmd format, as shown on the left side of the screen, and save all files on your local drive. Then use RStudio only to build the book products, as shown in the bottom-right corner of the screen, into the <code>docs</code> subfolder of your local drive. All changes saved with Atom editor to the local drive automatically appear in the RStudio pre-build files.
</p>
</div>
</div>
<div id="install-bookdown-with-r-rstudio-and-a-latex-engine" class="section level3 unnumbered" number="">
<h3>Install Bookdown with R, RStudio, and a LaTeX Engine</h3>
<p>Below are steps we followed to set up the publishing platform for this book, using our Macintosh OS 10.14 computers. The same general principles also should apply to Windows computers. No special knowledge is required, but this may not be recommended for novice computer users. Installation steps—and inevitable problems that pop up—will be easier if users are willing to feel adventurous with their computers, or already have some familiarity with text editors, GitHub, or R Studio.</p>
<ul>
<li>Install R Project statistical programming language <a href="https://www.r-project.org" class="uri">https://www.r-project.org</a>, which is required by Bookdown. <a href="images/bookdown/1-r-download.png">See screenshot</a></li>
<li>Install the free version of RStudio Desktop to make R easier to use with a visual editor. <a href="images/bookdown/2-download-rstudio.png">See screenshot</a>. Some authors compose their books in RStudio, but you may use any text editor; our personal preference is the <a href="https://atom.io/">Atom editor</a> from GitHub.</li>
<li>Inside RStudio, select the Packages tab, and select Install. <a href="images/bookdown/3-packages-install.png">See screenshot</a></li>
<li>Inside RStudio, install the “bookdown” package to build your book, and select Install Dependencies. <a href="images/bookdown/4-install-bookdown.png">See screenshot</a></li>
<li>Bookdown now should be successfully installed in RStudio. <a href="images/bookdown/5-installed.png">See screenshot</a></li>
<li>For Bookdown to create a PDF edition of your book, you need to install a <a href="https://en.wikipedia.org/wiki/LaTeX">LaTeX</a> engine to prepare your Markdown plain text, citations, and images into stylized pages. Since the full-sized <a href="https://www.latex-project.org/get/">LaTeX project</a> is very large, Bookdown recommends the smaller TinyTeX package. Inside RStudio, select the Packages tab, select Install, and enter “tinytex” to find and upload the package. <a href="images/bookdown/6-install-tinytex.png">See screenshot</a></li>
<li>To finish installing tinytex, in the RStudio console, type <code>tinytex::install_tinytex()</code> and press return. <a href="images/bookdown/7-finish-install-tinytex.png">See screenshot</a></li>
<li>When you installed RStudio, it also should have installed its own version of Pandoc, the package that converts files from Markdown format to HMTL and other formats. To confirm the Pandoc installation and version number, in the RStudio console, type <code>rmarkdown::pandoc_version()</code> and press return. The resulting version number should be <code>2.3.1</code> or higher. To learn more about Pandoc or to install a newer version, go to <a href="https://pandoc.org" class="uri">https://pandoc.org</a>.</li>
</ul>
</div>
<div id="download-and-build-a-sample-bookdown-book" class="section level3 unnumbered" number="">
<h3>Download and Build a Sample Bookdown Book</h3>
<ul>
<li>Create a free GitHub account <a href="https://github.com" class="uri">https://github.com</a> to simplify steps for the next two sections. While Bookdown does not require you to use GitHub, the workflow described below features GitHub to copy a sample Bookdown template and to host your own Bookdown editions online.</li>
<li>In your web browser, log into your GitHub account, go to the Bookdown developer’s <code>bookdown-minimal</code> repo <a href="https://github.com/yihui/bookdown-minimal" class="uri">https://github.com/yihui/bookdown-minimal</a>, and fork a copy to your GitHub account. To learn about forking in GitHub, see this chapter <a href="http://datavizforall.org/github.html" class="uri">http://datavizforall.org/github.html</a> in the <em>Data Visualization for All</em> book.</li>
<li>Install GitHub Desktop <a href="https://desktop.github.com" class="uri">https://desktop.github.com</a> to transfer files between your online GitHub repo and local computer. While software developers may prefer to access GitHub by typing commands in their terminal, GitHub Desktop provides easier point-and-click access for most users.</li>
<li>In your web browser, go to your forked copy of <code>bookdown-minimal</code>, click the green <code>Clone or Download</code> button, and select <code>Open in Desktop</code>. This should automatically open the GitHub Desktop application, and you can navigate where you wish to store a copy of your code repo on a folder in your local computer.</li>
<li>In RStudio in the upper-right corner, select Project &gt; Open Project to open the <code>bookdown-minimal</code> folder on your local computer. <a href="images/bookdown/8-project-open.png">See screenshot</a></li>
<li>In RStudio, open the <code>index.Rmd</code> file and make some simple edits to the text of this minimal book. For example, remove the hashtag <code>#</code> comment symbol in line 8 to “uncomment” and activate the PDF book option. Save your edits. <a href="images/bookdown/9-edit-book.png">See screenshot</a></li>
<li>Optional: If you wish, you can modify your <code>bookdown-minimal</code> files outside of RStudio, by using your preferred text editor, such as Atom editor <a href="https://atom.io" class="uri">https://atom.io</a>.</li>
<li>In RStudio, upper-right corner, select the Build tab, select Build Book, and choose All Formats to build both the gitbook-style static web edition and PDF edition.</li>
<li>If RStudio successfully builds both editions of your minimal book, the output will be saved into your <code>bookdown-minimal</code> folder, in a subfolder named <code>_book</code>, because that’s how this sample is configured. The RStudio internal browser should automatically open your web edition (but it’s not a very good browser, so we typically close it and manually open the <code>index.html</code> file with Firefox or Chrome browser.)</li>
<li>Also, open the subfolder and inspect the PDF edition of your book. If any errors were generated in the process, error messages will appear in red type in the RStudio Build viewer, which may require you to debug errors and delete temporary files as instructed. <a href="images/bookdown/11-successful-build.png">See screenshot</a></li>
<li>Hint: In future sessions with RStudio, you should select the Packages tab and click Update to keep Bookdown and other software packages up to date. <a href="images/bookdown/12-packages-update.png">See screenshot</a></li>
<li>Close your project, and quit RStudio.</li>
</ul>
</div>
<div id="host-your-sample-book-online-with-github-pages" class="section level3 unnumbered" number="">
<h3>Host Your Sample Book Online with GitHub Pages</h3>
<ul>
<li>Open GitHub Desktop and navigate to the <code>bookdown-minimal</code> folder on your local computer. Write a quick summary to commit (or save) the changes you made above to your master branch, and push this version to your online GitHub repo.</li>
<li>In your web browser, go to your online GitHub repo, with a web address similar to <code>https://github.com/USERNAME/bookdown-minimal</code> (insert your own GitHub username).</li>
<li>In your GitHub repo, select Settings, and scroll down to the GitHub Pages section, which is a free web hosting service to publish your code and book editions on the public web. Select Master Branch as your source, and Save.</li>
<li>Scroll down to this section again, and the web address of your published site should appear. Copy this address.</li>
<li>In a new browser tab, paste the web address from above, and at the end add <code>_book/index.html</code> because this sample is configured to store all web and PDF editions in your <code>_book</code> subfolder. Your web address should be similar to: <code>https://USERNAME.github.io/bookdown-minimal/_book/index.html</code></li>
<li>Reminder: You may need to wait up to one minute for edits to your GitHub online repo to appear live at your GitHub Pages web address. Also, after waiting for GitHub Pages to make changes, be sure to “force reload” or “hard refresh” your web browser to update directly from the GitHub Pages server, not the browser’s internal cache. On Mac, press shift + command + R. On Windows, press ctrl + F5.</li>
</ul>
</div>
<div id="customize-bookdown-and-github-settings-and-domain-name" class="section level3 unnumbered" number="">
<h3>Customize Bookdown and GitHub Settings and Domain Name</h3>
<p>To see the file structure, settings, and content for this <em>On The Line</em> book, view its online repository at <a href="https://github.com/ontheline/ontheline-bookdown" class="uri">https://github.com/ontheline/ontheline-bookdown</a>. See more details about configuration settings, see Yihui Xie’s <a href="https://bookdown.org/yihui/bookdown">Bookdown technical guide</a>.</p>
<p>In this book, the <code>_bookdown.yml</code> file is set to build all of the book outputs (Web edition, PDF edition, etc.) in directory folder named <code>docs</code> in the GitHub repo as shown below. (Proper indenting is important here.) Also note that the default “Figure” has been renamed to “Image” in the HTML edition of this book. <strong>TODO: change for PDF output prior to PDF publication, see Style Guide.</strong></p>
<pre><code>output_dir: &quot;docs&quot;
book_filename: &quot;Dougherty-etal-OnTheLine&quot;
language:
  label:
    fig: &quot;Image &quot;
chapter_name: &quot;Chapter &quot;</code></pre>
<p>In this book, the Bookdown setting has been changed from the default <code>_books</code> folder to the <code>docs</code> folder to take advantage of the GitHub Pages setting that allows hosting online content from the <code>master/docs</code> folder, rather than the entire <code>master</code> branch. Choosing these Bookdown and GitHub Pages settings allows authors to publicly share their book source code and raw text on the <code>master</code> branch, <strong>and</strong> host online the Web and ebook editions from the <code>master/docs</code> subfolder of that branch. (Years earlier, GitHub previously required users to separate these tasks on two different branches, typically called <code>master</code> and <code>gh-pages</code>, but now users can do both through one branch, which is simpler.) Also, following this <code>master/docs</code> method simplifies the address of your GitHub Pages published web edition to this format: <code>https://USERNAME.github.com/REPONAME</code>. (See further below about customizing the web address.) Finally, the <code>docs</code> folder contains an empty <code>.nojekyll</code> file so that GitHub Pages does not attempt to process these static HTML pages in Jekyll.</p>
<p>In this book, the <code>index.Rmd</code> file is set to produce the Web edition in the GitBook style, with additional settings explained further below. (Proper indenting is important here.)</p>
<pre><code>output:
  bookdown::gitbook:
    dev: svglite
    css: css/style.css
    includes:
      in_header: [custom-scripts.html, google-analytics-otl.html]
    split_by: section
    split_bib: true
    number_sections: true</code></pre>
<p>Here is a simplified description of the root file structure in the GitHub repo for this book:</p>
<ul>
<li>Preface of the book with non-numbered sections: <code>index.Rmd</code></li>
<li>Chapters with first-level headers, such as: <code>01-chapter.Rmd</code></li>
<li>Subchapters with second-level headers such as <code>01.1-subchapter.Rmd</code> and <code>01.2-subchapter.Rmd</code>. While Bookdown refers to these as sections, in this book they are referred to as subchapters.</li>
<li>The <code>images</code> folder, where JPG, PNG, and PDFs to display in chapters are located.</li>
<li>The <code>docs</code> folder, which contains the published book products, such as Web edition (<code>index.html</code>, <code>introduction.html</code>, etc.), the PDF edition (<code>Dougherty-etal-OnTheLine.pdf</code>), etc.</li>
<li>Additional helper files described further below.</li>
</ul>
<p>When you change the names of chapters/sections, Bookdown builds new HMTL pages based on those new names, but old HMTL pages based on old chapter/section names may still exist in the same subfolder. To avoid confusion, you may wish to carefully delete old HTML pages in <code>docs</code> whenever you significantly alter names and build a new version of the book.</p>
<p>In addition, this GitHub Pages repo is published with a custom domain name <a href="https://OnTheLine.trincoll.edu" class="uri">https://OnTheLine.trincoll.edu</a>. Learn more about custom domain names at <a href="https://help.github.com/articles/using-a-custom-domain-with-github-pages/" class="uri">https://help.github.com/articles/using-a-custom-domain-with-github-pages/</a>. Typically, a custom domain name is purchased from a web hosting service, such as <a href="http://reclaimhosting.com">ReclaimHosting</a>, and you may need customer support to access the Manage DNS (domain name system) to point your new URL to your GitHub Pages online site. For this book’s custom domain name, <a href="https://ontheline.trincoll.edu" class="uri">https://ontheline.trincoll.edu</a>, the IT staff at Trinity College created a subdomain on their .edu domain, which shows that my scholarship is affiliated with an academic institution. For comparison, see our other Bookdown book, <a href="https://datavizforall.org" class="uri">https://datavizforall.org</a>, for which we intentionally purchased our own domain name. Adding a GitHub Pages custom domain name creates an additional <code>CNAME</code> file in the <code>docs</code> subfolder. Avoid accidentally erasing the <code>CNAME</code> file if you need to clear out any old HTML files in your subfolder.</p>
<p>The web edition of this book includes two custom files that are referenced in the <code>index.Rmd</code> file header, and are generated into the web edition when building the book:</p>
<pre><code>output:
  bookdown::gitbook:
    dev: svglite
    css: css/style.css
    includes:
      in_header: [custom-scripts.html, google-analytics-otl.html]</code></pre>
<ul>
<li>the <code>custom-scripts.html</code> file includes specific instructions to set the height or width of iframes for specific interactive maps and charts in the web edition, which is explained further in the Style Guide section of this book. (Thanks to Michael Dorman for this tip.)</li>
<li>the <code>google-analytics-otl.html</code> file records web traffic with Google Analytics, if you create a free account and insert your code.</li>
</ul>
<p>The web edition of this book also includes a custom <code>404.html</code> file that redirects any bad web addresses under the domain back to <code>index.html</code> page. A copy of this file must be manually transferred into the <code>docs</code> subfolder, because it is not automatically built by Bookdown.</p>
<p>In this book, the <code>index.Rmd</code> file also contains instructions to create footnotes and a bibliography from a Zotero-Better BibLaTeX exported file named <code>ontheline.bib</code>, in a specific Chicago-style format. Other <code>.csl</code> files are downloadable from the Zotero Styles Repository <a href="https://www.zotero.org/styles" class="uri">https://www.zotero.org/styles</a>.</p>
<pre><code>bibliography: ontheline.bib
citation-style: chicago-fullnote-bibliography.csl</code></pre>
<p>Also in this book, the <code>index.Rmd</code> file is set to produce a PDF edition of the book with PanDoc settings for the desired Chicago-style footnotes and bibliography in the PDF edition. See more details at <a href="https://pandoc.org/" class="uri">https://pandoc.org/</a>. See additional PDF setting options at <a href="https://bookdown.org/yihui/rmarkdown/pdf-document.html" class="uri">https://bookdown.org/yihui/rmarkdown/pdf-document.html</a>.</p>
<pre><code>  bookdown::pdf_book:
    citation_package: none
    pandoc_args: [ &quot;--csl&quot;, &quot;chicago-fullnote-bibliography.csl&quot; ]</code></pre>
<p>Also in this book, the <code>index.Rmd</code> file includes R global options to display each R chunk image without code (no echo), and to display the PDF version of an image file instead of JPG/PNG version whenever available.</p>
<pre><code>{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(knitr.graphics.auto_pdf = TRUE)</code></pre>
</div>
<div id="zotero-and-better-bibtex-for-notes-and-bibliography" class="section level3 unnumbered" number="">
<h3>Zotero and Better BibTeX for Notes and Bibliography</h3>
<p>This workflow uses the open-source Zotero bibliography manager (<a href="http://zotero.org" class="uri">http://zotero.org</a>), with the Better BibTeX extension (<a href="https://retorque.re/zotero-better-bibtex/" class="uri">https://retorque.re/zotero-better-bibtex/</a>) to work more easily with Markdown and Bookdown. Rather than typing full references directly into the text, authors can insert a short citation key to each source, and the tools will automatically generate the desired references (such as Chicago-style footnotes, which historians love) and an alphabetized bibliography for the book. Furthermore, since authoring this <em>On The Line</em> book has been a multi-year process with multimedia sources whose web addresses have changed over time, this workflow ensures that the most up-to-date information in your Zotero database also appears in all editions of your book.</p>
<p>With these tools installed, here’s an outline of the author’s workflow:
- An entry for each source (book, journal article, document, etc.) must be created in the author’s Zotero library (or a specific collection), either automatically from the web or manually.
- Better BibTex generates a unique citation key for each source (example: <code>^[@tyackOneBestSystem1974]</code>), which authors insert into the Markdown text to create a full reference (such as a footnote) and a bibliography.
- The author identifies their preferred citation style at <a href="https://www.zotero.org/styles" class="uri">https://www.zotero.org/styles</a>, uploads the file (example: chicago-fullnote-bibliography.csl) to the local book repo, and lists it in the <code>index.Rmd</code> settings for both the Web edition and the PDF edition.
- Before each build in Bookdown, the author sets their Zotero preferences, and exports the Zotero library or specific collection to the root level of the local book repo (example: ontheline.bib).</p>
</div>
<div id="zotero-and-better-bibtex-installation-and-settings" class="section level3 unnumbered" number="">
<h3>Zotero and Better BibTeX Installation and Settings</h3>
<ul>
<li>Download and install <a href="http://zotero.org">Zotero</a> for Mac, Windows, Linux, and add connectors to your browsers.</li>
<li>Install the <a href="https://retorque.re/zotero-better-bibtex/installation/">Better BibTeX extension</a> and follow all of the site’s instructions for initial setup.</li>
<li>At the top of each entry in Zotero, the extension will generate a unique citation code (example: tyackOneBestSystem1974).</li>
<li>You can copy and paste the citation code into your Markdown text, and add a caret, square brackets, and the at symbol <code>^[@tyackOneBestSystem1974]</code>, as described in the Style Guide in this book.)</li>
<li>Also, you can set Zotero preferences &gt; Export &gt; Better BibTeX Quick Copy to use Zotero’s drag-and-drop quick copy feature.</li>
<li>To export a bibliography (.bib) from Zotero library or collection into the local Bookdown repo:
<ul>
<li>Select Library &gt; Right-click to export the collection</li>
<li>Select format &gt; Better BibLaTeX (<em>IMPORTANT</em> I use this setting, rather than “Better BibTex”, because “Better BibLaTex” includes full dates in newspaper citations, and urls). Also, I leave all of the checkboxes blank during the export, and do NOT select “keep updated”. This means that if my Better BibTex citation codes suddenly change in Zotero because the author, title, or year changed, then I’m responsible for running find-and-replace to make these edits in the text of the book.</li>
<li>Save the output as FILENAME.bib, save into your book repo, and be sure to match the settings in <code>index.Rmd</code>.</li>
</ul></li>
</ul>
<p>These Zotero types appear correctly with this Bookdown workflow:</p>
<ul>
<li>Book</li>
<li>Book chapter</li>
<li>Journal article</li>
<li>Newspaper</li>
<li>Thesis</li>
<li>Report</li>
<li>Web page</li>
<li>Blog post – Avoid because Zotero Chicago-style entry inserts “(blog)” into citation title. Instead, use Web page.</li>
<li>Document – Use this all-purpose entry in place of other types: Law case, Presentation, Interview, Video recording, Television broadcast, etc. Insert important details (such as the archival location information) in the Publisher field.</li>
</ul>
<p>To help other researchers find items cited in this book, URLs should be included in Zotero entries whenever feasible, even if not required by convention. For example, some print-only books and documents are hard to locate, so include an OCLC WorldCat permalink to make them easier to find (example: <a href="http://www.worldcat.org/oclc/20683509" class="uri">http://www.worldcat.org/oclc/20683509</a>). Also, if a print source has been digitized by HathiTrust, Google Books, or the Internet Archive, add one of these URLs to the Zotero entry.</p>
<p>Reminder: Chicago full-note works exactly as it was designed, meaning that the second instance of a citation currently appears as an abbreviated note (author, with title when appropriate). TODO: Find or create a modified .CSL file to display the full footnote entry in <em>every</em> instance in the web version, so that users do not need to scroll to find the complete source info.</p>
<p><img src="images/cc-by-nc-sa-88x31.png" alt="creative commons by-nc-sa icon" /> <em><a href="http://ontheline.trincoll.edu">On The Line</a> is an open-access, born-digital, book-in-progress by <a href="authors-and-contributors.html">Jack Dougherty and contributors</a> at Trinity College, Hartford CT, USA. This work is copyrighted by the authors and freely distributed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. Learn more <a href="about-the-book.html">about the book</a>, including <a href="how-to-read-and-cite.html">how to read and cite</a> and our <a href="copyright-with-open-access.html">copyright with open-access policy and code repository</a>. This book-in-progress was last updated on: 17 May 2020</em></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="195">
<li id="fn195"><p>For more detailed guides to these tools, see <span class="citation">Yihui Xie, <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>, 2018, <a href="https://bookdown.org/yihui/bookdown/" role="doc-biblioref">https://bookdown.org/yihui/bookdown/</a></span>; <span class="citation">Yihui Xie, <em>R Markdown Cookbook</em> (Bookdown.org, 2020), <a href="https://bookdown.org/yihui/rmarkdown-cookbook/" role="doc-biblioref">https://bookdown.org/yihui/rmarkdown-cookbook/</a></span><a href="bookdown.html#fnref195" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="digital-history-dialogue.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="style-guide.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ontheline/otl-bookdown/blob/master/09.3-bookdown.Rmd",
"text": null
},
"download": ["Dougherty-etal-OnTheLine.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
