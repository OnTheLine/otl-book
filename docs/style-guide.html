<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.4 On The Line Style Guide for Bookdown + RMarkdown | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</title>
  <meta name="description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="9.4 On The Line Style Guide for Bookdown + RMarkdown | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://ontheline.trincoll.edu/" />
  <meta property="og:image" content="http://ontheline.trincoll.edu/images/coverOTL300x300.png" />
  <meta property="og:description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="github-repo" content="ontheline/otl-bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.4 On The Line Style Guide for Bookdown + RMarkdown | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta name="twitter:site" content="@doughertyjack" />
  <meta name="twitter:description" content="This open-access digital and print history book makes visible the hidden schooling and housing boundaries that divide metropolitan Hartford, Connecticut, and tells the stories of civil rights activists and everyday families who sought to cross over, redraw, or erase these lines." />
  <meta name="twitter:image" content="http://ontheline.trincoll.edu/images/coverOTL300x300.png" />

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="and contributors" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bookdown.html"/>
<link rel="next" href="alternative.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<script src="libs/elevate-section-attrs-2.0/elevate-section-attrs.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script>
  // adjust web edition height or width of iframe for specific figure references, using tilde (~iframe)
$(document).ready(function() {
  $("#fig\\:1910-2010-otl-home-value~iframe").attr("height", "565px");
  $("#fig\\:1910-2010-otl-home-value2~iframe").attr("height", "565px");
  $("#fig\\:1876-scribners-monthly~iframe").attr("height", "660px");
  $("#fig\\:1876-scribners-monthly~iframe").attr("width", "100%");
  $("#fig\\:1876-scribners-monthly2~iframe").attr("height", "660px");
  $("#fig\\:1876-scribners-monthly2~iframe").attr("width", "100%");
  $("#fig\\:1600s-otl-town-borders~iframe").attr("height", "600px");
  $("#fig\\:1600s-otl-town-borders~iframe").attr("width", "100%");
  $("#fig\\:1937-otl-redlining~iframe").attr("height", "600px");
  $("#fig\\:1937-otl-redlining~iframe").attr("width", "100%");
  $("#fig\\:1940-otl-covenants~iframe").attr("height", "500px");
  $("#fig\\:1940-otl-covenants2~iframe").attr("height", "500px");

  $("#fig\\:sample-interactive~iframe").attr("height", "600px");
  $("#fig\\:sample-interactive~iframe").attr("width", "100%");
})
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5488840-4', 'auto');
  ga('send', 'pageview');

</script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>On the Line</strong><br>by Jack Dougherty & contributors</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html"><i class="fa fa-check"></i>About the Book</a></li>
<li class="chapter" data-level="" data-path="authors-and-contributors.html"><a href="authors-and-contributors.html"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="how-to-read-and-cite.html"><a href="how-to-read-and-cite.html"><i class="fa fa-check"></i>How to Read and Cite</a></li>
<li class="chapter" data-level="" data-path="copyright-with-open-access.html"><a href="copyright-with-open-access.html"><i class="fa fa-check"></i>Copyright with Open Access</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> My Introduction to the Lines</a>
<ul>
<li class="chapter" data-level="1.1" data-path="bridging.html"><a href="bridging.html"><i class="fa fa-check"></i><b>1.1</b> Bridging the History Gap</a></li>
<li class="chapter" data-level="1.2" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i><b>1.2</b> Outline of the Book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="defining.html"><a href="defining.html"><i class="fa fa-check"></i><b>2</b> Defining City and Suburban Lines</a>
<ul>
<li class="chapter" data-level="2.1" data-path="richest.html"><a href="richest.html"><i class="fa fa-check"></i><b>2.1</b> The Richest City in the Nation</a></li>
<li class="chapter" data-level="2.2" data-path="carving.html"><a href="carving.html"><i class="fa fa-check"></i><b>2.2</b> Carving Up Town Boundaries</a></li>
<li class="chapter" data-level="2.3" data-path="golden.html"><a href="golden.html"><i class="fa fa-check"></i><b>2.3</b> A Golden Age for City Schools</a></li>
<li class="chapter" data-level="2.4" data-path="rural.html"><a href="rural.html"><i class="fa fa-check"></i><b>2.4</b> Challenges for Rural and Early Suburban Schools</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="separating.html"><a href="separating.html"><i class="fa fa-check"></i><b>3</b> Separating with Color and Class Lines</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lending.html"><a href="lending.html"><i class="fa fa-check"></i><b>3.1</b> Federal Lending and Redlining</a></li>
<li class="chapter" data-level="3.2" data-path="restricting.html"><a href="restricting.html"><i class="fa fa-check"></i><b>3.2</b> Restricting with Property Covenants</a></li>
<li class="chapter" data-level="3.3" data-path="public-housing.html"><a href="public-housing.html"><i class="fa fa-check"></i><b>3.3</b> Racial Barriers to Public Housing</a></li>
<li class="chapter" data-level="3.4" data-path="origins-zoning.html"><a href="origins-zoning.html"><i class="fa fa-check"></i><b>3.4</b> Origins of Exclusionary Zoning</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="selling.html"><a href="selling.html"><i class="fa fa-check"></i><b>4</b> Selling and Shopping the Lines</a></li>
<li class="chapter" data-level="5" data-path="challenging.html"><a href="challenging.html"><i class="fa fa-check"></i><b>5</b> Challenging the Power Lines</a>
<ul>
<li class="chapter" data-level="5.1" data-path="mobilizing.html"><a href="mobilizing.html"><i class="fa fa-check"></i><b>5.1</b> Mobilizing Against Racial Steering and Redlining</a></li>
<li class="chapter" data-level="5.2" data-path="jumping.html"><a href="jumping.html"><i class="fa fa-check"></i><b>5.2</b> Jumping the School District Line</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="choosing.html"><a href="choosing.html"><i class="fa fa-check"></i><b>6</b> Choosing to Cross the Lines</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Where Do We Draw the Line?</a></li>
<li class="chapter" data-level="8" data-path="teaching-researching.html"><a href="teaching-researching.html"><i class="fa fa-check"></i><b>8</b> Teaching and Researching <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="8.1" data-path="investigating.html"><a href="investigating.html"><i class="fa fa-check"></i><b>8.1</b> Investigating Spatial Inequality with the Cities Suburbs and Schools Project</a></li>
<li class="chapter" data-level="8.2" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>8.2</b> Writing Greater Hartford’s Civil Rights Past with ConnecticutHistory.org</a></li>
<li class="chapter" data-level="8.3" data-path="teaching-oral-history.html"><a href="teaching-oral-history.html"><i class="fa fa-check"></i><b>8.3</b> Teaching Oral History</a></li>
<li class="chapter" data-level="8.4" data-path="who-owns-oral-history.html"><a href="who-owns-oral-history.html"><i class="fa fa-check"></i><b>8.4</b> Who Owns Oral History? A Creative Commons Solution</a></li>
<li class="chapter" data-level="8.5" data-path="oral-history-consent.html"><a href="oral-history-consent.html"><i class="fa fa-check"></i><b>8.5</b> Oral History Consent Form</a></li>
<li class="chapter" data-level="8.6" data-path="covenants.html"><a href="covenants.html"><i class="fa fa-check"></i><b>8.6</b> How We Found Restrictive Covenants</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mapping-publishing.html"><a href="mapping-publishing.html"><i class="fa fa-check"></i><b>9</b> Mapping and Publishing <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="9.1" data-path="digital-history-dialogue.html"><a href="digital-history-dialogue.html"><i class="fa fa-check"></i><b>9.1</b> A Digital History Dialogue</a></li>
<li class="chapter" data-level="9.2" data-path="maps-and-charts.html"><a href="maps-and-charts.html"><i class="fa fa-check"></i><b>9.2</b> List of Interactive Maps and Charts</a></li>
<li class="chapter" data-level="9.3" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>9.3</b> Building with Bookdown, GitHub, and Zotero</a></li>
<li class="chapter" data-level="9.4" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i><b>9.4</b> <em>On The Line</em> Style Guide for Bookdown + RMarkdown</a></li>
<li class="chapter" data-level="9.5" data-path="alternative.html"><a href="alternative.html"><i class="fa fa-check"></i><b>9.5</b> Alternative Publishing Platforms</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>10</b> Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://acpress.amherst.edu/" target="_blank">Open access book-in-progress</br>for Amherst College Press</a></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="style-guide" class="section level2" number="9.4">
<h2 number="9.4"><span class="header-section-number">9.4</span> <em>On The Line</em> Style Guide for Bookdown + RMarkdown</h2>
<p>NOTE: View this file and the code used to create the examples directly on the GitHub repo at <a href="https://github.com/OnTheLine/otl-bookdown/blob/master/09.4-style-guide.Rmd" class="uri">https://github.com/OnTheLine/otl-bookdown/blob/master/09.4-style-guide.Rmd</a>.</p>
<p>Also, this style guide was created primarily for the web edition <a href="http://OnTheLine.trincoll.edu" class="uri">http://OnTheLine.trincoll.edu</a>, and may require additional modifications for the final PDF print edition.</p>
<div id="general-goals" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">General Goals</h4>
<p>For this book, the goal is to compose one version of the text that Bookdown will generate into multiple products: the Web/HTML edition, the PDF edition, and other formats such as ePub and MS Word if requested by the publisher. Only the Web edition will display interactive content and clickable links. But the text is designed so that readers of the printed PDF pages will see static images in place of interactive content. Also, readers of both the printed PDF pages and the Web edition will see footnotes with URLs, to supplement links that are clickable only in the Web edition. <em>(Since pages like this contain primarily technical details for authors, it does not include footnotes.)</em> Also, to ensure that the Web edition is accessible to visually-impaired readers, run tests and fix errors flagged by the <a href="http://wave.webaim.org/">Wave Accessibility Evaluation Tool</a>.</p>
</div>
<div id="markdown-vs.-r-markdown" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Markdown vs. R Markdown</h4>
<p>The text is based on the easy-to-read Markdown syntax, which is summarized in this <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">popular cheatsheet</a> and this <a href="https://www.markdowntutorial.com">interactive tutorial</a>.</p>
<p>But Bookdown uses its own flavor: <a href="https://rmarkdown.rstudio.com/">R Markdown by R Studio</a>.</p>
</div>
<div id="formatting" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Formatting</h4>
<p>Use brackets and parentheses for an <a href="http://example.com">embedded link</a>, and remember to add a footnote as shown below.</p>
<p>To display the URL of a non-embedded link, use only parentheses (<a href="http://example.com" class="uri">http://example.com</a>) or angle brackets <a href="http://example.com" class="uri">http://example.com</a>.</p>
<!-- TODO is this second line necessary in Bookdown? -->
<p>The book is designed for links to open in the same browser tab, since readers should use a right-click or two-finger click to open links in new tabs when desired. Only if absolutely necessary, use HTML tags to create <a href="http://example.com/">link that opens in a new page</a>.</p>
<p>Use HTML-style code comments to insert notes that are invisible to most readers, yet visible to authors (or anyone) viewing the public GitHub repo, such as TODO reminders:</p>
<pre><code>&lt;!-- TODO this comment appears in the source code, but not the book products --&gt;</code></pre>
<!-- TODO confirm this em-dash syntax -->
<p>For an em-dash, use three hyphens—like this—rather than two hyphens.</p>
<p>For a block quote, start each line with a caret <strong>AND</strong> add two spaces to insert a line break:</p>
<blockquote>
<p>I thoroughly disapprove of duels. If a man should challenge me, I would take him kindly and forgivingly by the hand and lead him to a quiet place and kill him.<br />
— Mark Twain<br />
— notable American author</p>
</blockquote>
</div>
<div id="headers-and-cross-reference-links" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Headers and Cross-reference links</h4>
<ul>
<li>Chapter titles are first-level headers with one hashtag: <code># Chapter Title</code></li>
<li>Section titles are second-level headers with two hashtags: <code>## Section Title</code></li>
<li>Avoid third-level headers with three hashtags, as we have not yet found an easy way to control toc_depth in HTML edition.</li>
<li>Subheaders are fourth-level headers with four hashtags: <code>#### Subheader in body text</code></li>
<li>Currently for Markdown tables, use fifth-level headers with five hashtags: <code>##### Table title</code></li>
</ul>
<p>Since the <code>index.Rmd</code> settings add numbers to chapters/sections, remember to block numbers from appearing in fourth- and fifth-level headers by adding curly brackets arounds a hyphen: <code>#### Subheader non-numbered {-}</code></p>
<p>In Bookdown, a short chapter/section title <code># Introduction</code> has a short default reference: <code>#introduction</code>. But a longer chapter/section title <code># Defining City and Suburban Lines</code> has a longer default reference: <code>#defining-city-and-suburban-lines</code>.</p>
<p>In this book, we simplify each chapter/section title references by adding a short ID name in curly brackets, like this: <code># Defining City and Suburban Lines {#defining}</code>.</p>
<p>Also, we match the short ID name <code>{#defining}</code> to the file name <code>02-defining.Rmd</code>. Although Bookdown does not require the file name and short ID to match, this method helps authors to organize all cross-references.</p>
<p>To embed a cross-reference to another chapter/section in the book, add an HTML link using brackets and parentheses. See code: <code>*by [Ilya Ilyankou and Jack Dougherty](authors-and-contributors.html)*</code> with demo: <em>by <a href="authors-and-contributors.html">Ilya Ilyankou and Jack Dougherty</a></em>. This method works best for the HTML edition.</p>
</div>
<div id="preface-and-footers" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Preface and Footers</h4>
<p>In this book, <code>index.Rmd</code> begins with a non-numbered first-level header <code># Preface {-}</code>, followed by non-numbered second-level headers such as <code>## Authors and Contributors {-}</code> and <code>## Acknowledgements {-}</code>. All of this content is placed in the <code>index.Rmd</code> file because creating zero-numbered files (such as 0.1-about.Rmd) generated Bookdown errors.</p>
<p>Also, at the end of each section in the main text, a footer has been manually pasted that includes HTML links to sections in the Preface. The purpose of the footer is to ensure that each long web page contains author and copyright information, in case readers print out individual web pages from their browsers. Also, manually inserting a footer is not ideal, but we have not yet created a custom-script that performs the same function.</p>
</div>
<div id="footnotes" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Footnotes</h4>
<p>A text-only footnote.<a href="#fn222" class="footnote-ref" id="fnref222"><sup>222</sup></a></p>
<p>To create a footnote with citations only, separate BibTeX citation keys with semi-colons:<span class="citation"><a href="#fn223" class="footnote-ref" id="fnref223"><sup>223</sup></a></span></p>
<p>Since footnotes also may include text and punctionation in Markdown syntax, always insert a caret symbol prior to the brackets to demarcate a footnote:<a href="#fn224" class="footnote-ref" id="fnref224"><sup>224</sup></a></p>
</div>
<div id="static-images-and-interactive-iframes" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Static Images and Interactive iFrames</h4>
<p>In body of the book, avoid inserting images with simple Markdown syntax, because it does not support Bookdown figure auto-numbering and caption formatting. Instead, follow this R “code chunk” method, which supports figure auto-numbering and caption formatting for:</p>
<ul>
<li>static images, in both Web and PDF editions</li>
<li>interactive maps and charts in Web edition, with static images in PDF edition</li>
<li>scrolling PDF files in the Web edition, with static screenshots in the PDF edition</li>
<li>videos in Web edition, with static images in PDF edition</li>
</ul>
<div id="overview" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Overview</h5>
<ul>
<li>Define a text reference for captions, because this method accepts complex syntax, such as RMarkdown cites and links, as shown below. For details, see Bookdown sections on Figures <a href="https://bookdown.org/yihui/bookdown/figures.html" class="uri">https://bookdown.org/yihui/bookdown/figures.html</a> and Markdown extensions <a href="https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html" class="uri">https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html</a>.</li>
<li>Insert a BLANK LINE between the text reference and the R code chunk coming up.</li>
<li>Insert an R code chunk <a href="https://bookdown.org/yihui/bookdown/r-code.html" class="uri">https://bookdown.org/yihui/bookdown/r-code.html</a>, with NO SPACES between ref:chunk-label, as shown below.</li>
<li>To reduce the width (or height) of the output, add <code>out.width="30%"</code> to the code chunk, which works for Web edition and also PDF edition. If width is less than full, also insert <code>fig.align="center"</code>.</li>
<li>To display interactive content in the Web edition and a static image in the PDF edition, create both elements and insert an if-else statement in the R code chunk to display these elements in different outputs, as shown below. (Thanks to Michael Dorman for this tip.)</li>
<li>If the interactive content includes an iframe (for a map or chart), the default height will be 400 pixels. To adjust the iframe height (or width), insert a line of code in <code>custom-scripts.html</code> and add a code comment to the text to serve as a reminder, as shown below. Also, make sure that the <code>index.Rmd</code> file includes the custom script in the header, as described in the section above.</li>
<li>Optional: In the body text, insert a dynamic reference to the figure in the same file, because PDF engine creates floating images that may be placed on the next page. Sample dynamic reference to a figure further below: … as shown in Figure <a href="style-guide.html#fig:sample-interactive">49</a>.</li>
<li>Reminder: If the image appears a second time in the book, in a separate chapter, be sure to relabel the text ref: year-title2.</li>
<li>Note: Bookdown does not auto-number figures in the <code>index.Rmd</code> file, which serves as a preface or introduction.</li>
</ul>
<p>TODO for final PDF edition:</p>
<ul>
<li>About auto_pdf: “include_graphics() can be smart enough to use PDF graphics automatically when the output format is LaTeX and the PDF graphics files exist, e.g., an image path foo/bar.png can be automatically replaced with foo/bar.pdf if the latter exists. PDF images often have better qualities than raster images in LaTeX/PDF output. To make use of this feature, set the argument auto_pdf = TRUE, or set the global option options(knitr.graphics.auto_pdf = TRUE) to enable this feature globally in an R session.” from <a href="https://bookdown.org/yihui/bookdown/figures.html" class="uri">https://bookdown.org/yihui/bookdown/figures.html</a></li>
<li>Decide if ‘out.width’ and ‘out.height’ is preferable in all cases to <code>"fig_height=7"</code></li>
</ul>
</div>
<div id="static-image-in-all-editions-half-size-output-no-interactive-version" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Static image in all editions, half-size output, no interactive version</h5>

<div class="figure"><span id="fig:sample-static-image"></span>
<img src="images/1937-holc-hartford-map-scan.jpg" alt="Caption for sample static image, with Markdown formatting, links, citation." width="50%" />
<p class="caption">
Figure 48: Caption for sample static image, with Markdown formatting, links, citation.
</p>
</div>
</div>
<div id="interactive-iframe-in-web-edition-with-adjusted-height-static-image-in-pdf-edition" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Interactive iframe in web edition (with adjusted height), static image in PDF edition</h5>

<!-- set iframe 600px height 100% width in custom-scripts.html -->
<div class="figure"><span id="fig:sample-interactive"></span>
<iframe src="https://ontheline.github.io/otl-redlining/" width="672" height="400px">
</iframe>
<p class="caption">
Figure 49: Caption for all versions here, with link to <a href="https://ontheline.github.io/otl-redlining/index-caption.html">full-screen interactive map with its own caption</a>, and link to sources and the code View <a href="https://github.com/ontheline/otl-redlining/">map historical sources, known issues, and the code</a>, developed by Ilya Ilyankou and Jack Dougherty, with footnote.<a href="#fn225" class="footnote-ref" id="fnref225"><sup>225</sup></a>
</p>
</div>
</div>
<div id="locally-stored-pdf-scrolling-in-web-edition-static-screenshot-in-pdf-edition" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Locally stored PDF scrolling in web edition, static screenshot in PDF edition</h5>

<div class="figure"><span id="fig:pdf-sample-local"></span>
<iframe src="images/sample-3pp.pdf" width="672" height="400px">
</iframe>
<p class="caption">
Figure 50: Here’s a sample PDF that is locally stored in the GitHub repo, with option to add Markdown link and footnote.
</p>
</div>
</div>
<div id="locally-stored-video-clip-with-custom-script" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Locally stored video clip, with custom script</h5>

<div class="figure"><span id="fig:sample-clip"></span>
<iframe src="images/2011-bernstein-demo-clip.mp4" width="672" height="400px">
</iframe>
<p class="caption">
Figure 51: Here’s a sample local video clip caption, with option to add Markdown link and footnote.
</p>
</div>
</div>
<div id="youtube-video-iframe-in-web-edition-static-image-in-pdf-edition" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">YouTube video iframe in web edition, static image in PDF edition</h5>

<div class="figure"><span id="fig:youtube-sample-video"></span>
<iframe src="https://www.youtube.com/embed/NuWg9Jrkrpw?start=64" width="672" height="400px">
</iframe>
<p class="caption">
Figure 52: Here’s a sample YouTube caption, with option to add Markdown links and footnote.
</p>
</div>
</div>
<div id="vimeo-video-iframe-in-web-edition-static-image-in-pdf-edition" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Vimeo video iframe in web edition, static image in PDF edition</h5>

<div class="figure"><span id="fig:vimeo-sample-vimeo"></span>
<iframe src="https://player.vimeo.com/video/27299734" width="672" height="400px">
</iframe>
<p class="caption">
Figure 53: Here’s a sample Vimeo caption, with option to add Markdown links and footnote.
</p>
</div>
<p>Since CTDA and Kaltura video feeds appear in the browser in autoplay mode, as of August 2019, do not embed these feeds in the book.</p>
<p>Instead, embed a short relevant video clips in YouTube or Vimeo, and insert link to “the full video on CTDA/Kaltura” in the caption and footnote.</p>
<p>An alternative method is to store the video locally and display with HTML5 video tags, with a custom-script to stop auto-play. But Bookdown does not recognize this so no figure auto-numbering and captions will be displayed, as illustrated below.</p>
</div>
</div>
<div id="trying-html5-video-tag-solution" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Trying HTML5 video tag solution</h4>
<p>Here’s a solution using the <a href="https://www.w3schools.com/tags/tag_video.asp">HTML5 video tag</a>, which simply says NOT to insert “autoplay”.</p>
<video width="640" height="360" controls>
<source src="https://collections.ctdigitalarchive.org/islandora/object/120002:191/datastream/MP4" type="video/mp4">
</video>
<p>The HMTL5 video tag solution stops autoplay, but it is NOT ideal for Bookdown-generated books because:</p>
<ul>
<li>Bookdown/knitr does not <em>appear</em> to support the HMTL 5 video tag in the same way as it supports knitr::include_url. I could submit a request to Bookdown to support HTML5 video tag, but it’s not likely to happen soon….</li>
<li>This means that I cannot use Bookdown built-in support for figures using the HMTL5 video tag, such as:
<ul>
<li>the if-else statement in the R code-chunk that places the interactive iframe in HTML and the static floating image in the PDF, but the same caption for both</li>
<li>figure auto-numbering, such as Figure 1.2, 1.3, etc.</li>
</ul></li>
</ul>
</div>
<div id="tables" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Tables</h4>
<p>For now, use Markdown table formatting, with header above and caption (in italicized text) below. See <a href="http://www.tablesgenerator.com/" class="uri">http://www.tablesgenerator.com/</a> with Markdown output. TODO: Decide on Bookdown-recommended kable package for tables, link to CSV in GitHub repo, and so on.</p>
<div id="sample-table" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Sample table</h5>
<table>
<thead>
<tr class="header">
<th><strong>Header 1</strong></th>
<th><strong>Header 2</strong></th>
<th><strong>Header 3</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Security Grade</td>
<td>Second</td>
<td>Third</td>
</tr>
<tr class="even">
<td>Location</td>
<td>Hartford</td>
<td>Hartford</td>
</tr>
<tr class="odd">
<td>Trend Next Decade</td>
<td>Stable</td>
<td>Stable</td>
</tr>
</tbody>
</table>
<p><em>In the table above, insert a caption in italics, with optional links and footnote.</em><span class="citation"><a href="#fn226" class="footnote-ref" id="fnref226"><sup>226</sup></a></span></p>
</div>
</div>
<div id="references-for-above" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">References for above</h4>
<ul>
<li>R Markdown book section on figures
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/html-document.html#figure-options" class="uri">https://bookdown.org/yihui/rmarkdown/html-document.html#figure-options</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/r-code.html#figures" class="uri">https://bookdown.org/yihui/rmarkdown/r-code.html#figures</a>, which states:</li>
<li>“PDF documents are generated through the LaTeX files generated from R Markdown. A highly surprising fact to LaTeX beginners is that figures float by default: even if you generate a plot in a code chunk on the first page, the whole figure environment may float to the next page. This is just how LaTeX works by default. It has a tendency to float figures to the top or bottom of pages. Although it can be annoying and distracting, we recommend that you refrain from playing the “Whac-A-Mole” game in the beginning of your writing, i.e., desparately trying to position figures “correctly” while they seem to be always dodging you. You may wish to fine-tune the positions once the content is complete using the fig.pos chunk option (e.g., fig.pos = ‘h’). See <a href="https://www.sharelatex.com/learn/Positioning_images_and_tables" class="uri">https://www.sharelatex.com/learn/Positioning_images_and_tables</a> for possible values of fig.pos and more general tips about this behavior in LaTeX. In short, this can be a difficult problem for PDF output."</li>
</ul></li>
<li>R Markdown reference <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf</a></li>
<li>On R code chunks in RMarkdown <a href="https://bookdown.org/yihui/rmarkdown/r-code.html" class="uri">https://bookdown.org/yihui/rmarkdown/r-code.html</a></li>
<li>On R code chunk options in knitr package <a href="https://yihui.name/knitr/options/#code-chunk" class="uri">https://yihui.name/knitr/options/#code-chunk</a></li>
<li>On positioning images in LaTeX <a href="https://www.overleaf.com/learn/latex/Positioning_images_and_tables" class="uri">https://www.overleaf.com/learn/latex/Positioning_images_and_tables</a></li>
<li>Tips and tricks <a href="http://zevross.com/blog/2017/06/19/tips-and-tricks-for-working-with-images-and-figures-in-r-markdown-documents/#arguments-out.width-and-out.height-apply-to-both-existing-images-and-r-generated-figures" class="uri">http://zevross.com/blog/2017/06/19/tips-and-tricks-for-working-with-images-and-figures-in-r-markdown-documents/#arguments-out.width-and-out.height-apply-to-both-existing-images-and-r-generated-figures</a></li>
</ul>
<p><img src="images/cc-by-nc-sa-88x31.png" alt="creative commons by-nc-sa icon" /> <em><a href="http://ontheline.trincoll.edu">On The Line</a> is an open-access, born-digital, book-in-progress by <a href="authors-and-contributors.html">Jack Dougherty and contributors</a> at Trinity College, Hartford CT, USA. This work is copyrighted by the authors and freely distributed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. Learn about our <a href="copyright-with-open-access.html">open-access policy and code repository</a> and <a href="how-to-read-and-cite.html">how to read and cite</a> our work. This book-in-progress was last updated on: 2020-01-03</em></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="222">
<li id="fn222"><p>This is a footnote, with no reference.<a href="style-guide.html#fnref222" class="footnote-back">↩︎</a></p></li>
<li id="fn223"><p>Hirsch, <em>Making the Second Ghetto</em>; Jackson, <em>Crabgrass Frontier</em>; Tyack, <em>The One Best System</em>.<a href="style-guide.html#fnref223" class="footnote-back">↩︎</a></p></li>
<li id="fn224"><p>On this theme, see <span class="citation">Jack Dougherty, “Review of ’Connecticut’s Public Schools: A History, 1650-2000’ by Christopher Collier,” <em>Connecticut History</em> 50, no. 1 (2011): 120–22, <a href="http://digitalrepository.trincoll.edu/cssp_papers/41" role="doc-biblioref">http://digitalrepository.trincoll.edu/cssp_papers/41</a></span>. On a different theme, see <span class="citation">Dougherty et al., “School Choice in Suburbia.”</span>, pp. 33-35<a href="style-guide.html#fnref224" class="footnote-back">↩︎</a></p></li>
<li id="fn225"><p><span class="citation">Ilyankou and Dougherty, “Map,” 2017</span><a href="style-guide.html#fnref225" class="footnote-back">↩︎</a></p></li>
<li id="fn226"><p>Ilyankou and Dougherty, “Leaflet Map of HOLC "Redlining" Security Map for Hartford CT Area, 1937.”<a href="style-guide.html#fnref226" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bookdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="alternative.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ontheline/otl-bookdown/edit/master/09.4-style-guide.Rmd",
"text": "Edit on GitHub"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ontheline/otl-bookdown/blob/master/09.4-style-guide.Rmd",
"text": null
},
"download": ["Dougherty-etal-OnTheLine.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
