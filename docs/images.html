<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Images and R Code-chunk formatting | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</title>
  <meta name="description" content="This open-access digital book makes visible the hidden history of schooling and housing boundaries that divided metropolitan Hartford, Connecticut, and tells the stories of everyday families and civil rights activists who seek to cross over, redraw, or erase these lines." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Images and R Code-chunk formatting | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="http://ontheline.trincoll.edu//images/coverOTL300x300.png" />
  <meta property="og:description" content="This open-access digital book makes visible the hidden history of schooling and housing boundaries that divided metropolitan Hartford, Connecticut, and tells the stories of everyday families and civil rights activists who seek to cross over, redraw, or erase these lines." />
  <meta name="github-repo" content="ontheline/otl-bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Images and R Code-chunk formatting | On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs" />
  <meta name="twitter:site" content="@doughertyjack" />
  <meta name="twitter:description" content="This open-access digital book makes visible the hidden history of schooling and housing boundaries that divided metropolitan Hartford, Connecticut, and tells the stories of everyday families and civil rights activists who seek to cross over, redraw, or erase these lines." />
  <meta name="twitter:image" content="http://ontheline.trincoll.edu//images/coverOTL300x300.png" />

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="and contributors" />


<meta name="date" content="2024-02-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="style-guide.html"/>
<link rel="next" href="tables.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3DK1S34D2Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3DK1S34D2Q');
</script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>On The Line</strong><br>by Jack Dougherty & contributors</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html"><i class="fa fa-check"></i>About the Book</a></li>
<li class="chapter" data-level="" data-path="how-to-read-and-cite.html"><a href="how-to-read-and-cite.html"><i class="fa fa-check"></i>How to Read and Cite</a></li>
<li class="chapter" data-level="" data-path="authors.html"><a href="authors.html"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>My Introduction to the Lines</a>
<ul>
<li class="chapter" data-level="" data-path="bridging.html"><a href="bridging.html"><i class="fa fa-check"></i>Bridging the History Gap</a></li>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i>Outline of the Book</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="defining.html"><a href="defining.html"><i class="fa fa-check"></i><b>1</b> Defining City and Suburban Lines</a>
<ul>
<li class="chapter" data-level="" data-path="richest.html"><a href="richest.html"><i class="fa fa-check"></i>The Richest City in the Nation</a></li>
<li class="chapter" data-level="" data-path="carving.html"><a href="carving.html"><i class="fa fa-check"></i>Carving Up Town Boundaries</a></li>
<li class="chapter" data-level="" data-path="golden.html"><a href="golden.html"><i class="fa fa-check"></i>A Golden Age for City Schools</a></li>
<li class="chapter" data-level="" data-path="consolidating.html"><a href="consolidating.html"><i class="fa fa-check"></i>Consolidating Rural School Districts</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="segregating.html"><a href="segregating.html"><i class="fa fa-check"></i><b>2</b> Segregating Along Color Lines</a>
<ul>
<li class="chapter" data-level="" data-path="lending.html"><a href="lending.html"><i class="fa fa-check"></i>Federal Lending and Redlining</a></li>
<li class="chapter" data-level="" data-path="restricting.html"><a href="restricting.html"><i class="fa fa-check"></i>Restricting with Property Covenants</a></li>
<li class="chapter" data-level="" data-path="public-housing.html"><a href="public-housing.html"><i class="fa fa-check"></i>Racial Barriers to Public Housing</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="excluding.html"><a href="excluding.html"><i class="fa fa-check"></i><b>3</b> Excluding Through Zoning Lines</a>
<ul>
<li class="chapter" data-level="" data-path="origins-zoning.html"><a href="origins-zoning.html"><i class="fa fa-check"></i>A Jewish Grocer and the Origins of Zoning in Connecticut</a></li>
<li class="chapter" data-level="" data-path="bringing-zoning.html"><a href="bringing-zoning.html"><i class="fa fa-check"></i>Bringing Zoning to Connecticut</a></li>
<li class="chapter" data-level="" data-path="expanding-zoning.html"><a href="expanding-zoning.html"><i class="fa fa-check"></i>Expanding Zoning Across Suburbs</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="selling.html"><a href="selling.html"><i class="fa fa-check"></i><b>4</b> Selling and Shopping the Lines</a></li>
<li class="chapter" data-level="5" data-path="challenging.html"><a href="challenging.html"><i class="fa fa-check"></i><b>5</b> Challenging the Power Lines</a>
<ul>
<li class="chapter" data-level="" data-path="mobilizing.html"><a href="mobilizing.html"><i class="fa fa-check"></i>Mobilizing Against Racial Steering and Redlining</a></li>
<li class="chapter" data-level="" data-path="jumping.html"><a href="jumping.html"><i class="fa fa-check"></i>Jumping the School District Line</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="choosing.html"><a href="choosing.html"><i class="fa fa-check"></i><b>6</b> Choosing to Cross the Lines</a></li>
<li class="chapter" data-level="7" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>7</b> Where Do We Draw the Line?</a></li>
<li class="chapter" data-level="8" data-path="teaching-researching.html"><a href="teaching-researching.html"><i class="fa fa-check"></i><b>8</b> Teaching and Researching <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="" data-path="investigating.html"><a href="investigating.html"><i class="fa fa-check"></i>Investigating Spatial Inequality with the Cities Suburbs and Schools Project</a></li>
<li class="chapter" data-level="" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i>Writing Greater Hartford’s Civil Rights Past with ConnecticutHistory.org</a></li>
<li class="chapter" data-level="" data-path="uncovering-unwritten.html"><a href="uncovering-unwritten.html"><i class="fa fa-check"></i>Uncovering Unwritten Rules Against Jewish and Black Students at Trinity College</a></li>
<li class="chapter" data-level="" data-path="teaching-oral-history.html"><a href="teaching-oral-history.html"><i class="fa fa-check"></i>Teaching Oral History</a></li>
<li class="chapter" data-level="" data-path="who-owns-oral-history.html"><a href="who-owns-oral-history.html"><i class="fa fa-check"></i>Who Owns Oral History? A Creative Commons Solution</a></li>
<li class="chapter" data-level="" data-path="oral-history-consent.html"><a href="oral-history-consent.html"><i class="fa fa-check"></i>Oral History Consent Form</a></li>
<li class="chapter" data-level="" data-path="teaching-segregation-ct.html"><a href="teaching-segregation-ct.html"><i class="fa fa-check"></i>Teaching Segregation in Connecticut</a></li>
<li class="chapter" data-level="" data-path="home-school-shopping.html"><a href="home-school-shopping.html"><i class="fa fa-check"></i>Home and School Shopping Simulation</a></li>
<li class="chapter" data-level="" data-path="covenants.html"><a href="covenants.html"><i class="fa fa-check"></i>How We Found Restrictive Covenants</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mapping-publishing.html"><a href="mapping-publishing.html"><i class="fa fa-check"></i><b>9</b> Mapping and Publishing <em>On The Line</em></a>
<ul>
<li class="chapter" data-level="" data-path="digital-history-dialogue.html"><a href="digital-history-dialogue.html"><i class="fa fa-check"></i>A Digital History Dialogue</a></li>
<li class="chapter" data-level="" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i>Bookdown, GitHub, and Zotero</a></li>
<li class="chapter" data-level="" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i>Install and Set Up Bookdown</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i>File Structure and Headers</a></li>
<li class="chapter" data-level="" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i>Style Guide for <em>On The Line</em></a></li>
<li class="chapter" data-level="" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i>Images and R Code-chunk formatting</a></li>
<li class="chapter" data-level="" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i>Tables in Markdown Format</a></li>
<li class="chapter" data-level="" data-path="zotero.html"><a href="zotero.html"><i class="fa fa-check"></i>Zotero and Better BibTeX</a></li>
<li class="chapter" data-level="" data-path="alternative.html"><a href="alternative.html"><i class="fa fa-check"></i>Alternative Book Publishing Tools</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>10</b> Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://acpress.amherst.edu/" target="_blank">Open access book-in-progress</br>for Amherst College Press</a></li>
<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Creative Commons BY-NC-SA 4.0<br><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown</a></li>  

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">On The Line: How Schooling, Housing, and Civil Rights Shaped Hartford and its Suburbs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="images" class="section level2 unnumbered hasAnchor">
<h2>Images and R Code-chunk formatting<a href="images.html#images" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>View the underlying source code to understand how this page was composed at: <a href="https://github.com/ontheline/otl-bookdown/blob/main/9.3.4-images.Rmd" class="uri">https://github.com/ontheline/otl-bookdown/blob/main/9.3.4-images.Rmd</a></p>
<p>NOTE: These instructions are designed <em>primarily</em> for the HTML web edition. Be sure to research and consider options if your primary objective is PDF print edition, ePUB electronic publication, or other formats.</p>
<p>In general, create high-resolution color images and save in PNG format (preferred over JPG due to image loss) into the <code>images</code> folder of the Bookdown repository on GitHub.</p>
<p>Write file names in lowercase with year-name format using dashes (not spaces or underscores). Begin with the relevant year if possible, and keywords to match bibliographic information in Zotero.</p>
<p>If the original image is larger than 3MB, add <code>-original</code> to file name to avoid confusion, then create a duplicate and use photo editor to reduce size but maintain 300 dpi resolution for use in the publication.</p>
<p>If adding any artwork to images, insert <code>-annotated</code> to file name to avoid confusion with original.</p>
<p>To create screenshots, use high-resolution Retina monitor (144 ppi) with tight cropping.</p>
<p>To combine images for side-by-sides or montages, save each element using the root file name plus a suffix. Save all elements in an images subfolder using a similar year-name format. Use either <a href="https://Canva.com" class="uri">https://Canva.com</a> or <a href="https://Photopea.com" class="uri">https://Photopea.com</a> to combine images, and save a copy of the latter in Photoshop format (.psd) in the images subfolder.</p>
<p>Since very large PNG images sometimes appear too large in the PDF edition, convert a copy into a smaller PDF image to fit better. In Preview, open the copy and reduce image size by 50% (or more), and double resolution (up to 300 dpi if feasible), and save. Then File &gt; Export, with Option to change file format to PDF, but keep same file name as PNG.</p>
<p>Save <em>all versions</em> of an image into the <code>images</code> folder to keep them together, as long as the overall GitHub repo size remains under 1GB. (Keep extremely large TIFF files elsewhere but use similar file names in order to locate them.) Bookdown will copy only the relevant files into the <code>docs/images</code> subfolder.</p>
<p>As a result, one image may have different versions:</p>
<pre><code>images/1937-sample.png
images/1937-sample.pdf
images/1937-sample-original.png
images/1937-sample-annotated.psd</code></pre>
<p>Include relevant source info in the Zotero library, and include the file name in the Abstract field to manually match up with the manuscript. Since Bookdown does not cleanly process endnotes in image captions, include the Zotero citation at the end of the main-text paragraph that describes the image, typically after a call-out: …as shown in Figure X.</p>
<p>For the image caption, write a brief standalone description, add an action-instruction and supplemental link for any visualizations, and include any relevant image source credits or copyright information.</p>
<p>In writing this book, one of key goals was to create R Markdown syntax to display different versions of images for different Bookdown editions. For each image, we wanted one set of instructions to display an interactive chart/map/video using an embedded iframe in the HTML web edition, but display a static PNG image in the full-length Markdown edition, or to substitute a smaller PDF static image when available in the PDF book edition. Also, we wanted auto-numbering of images by chapter.</p>
<p>Our solution relies on R code-chunk formatting for <em>most</em> images, with some exceptions. This R Markdown/Bookdown syntax is more complex than basic Markdown image formatting, but supports conditional formatting and captions in all of our editions, and auto-numbering in HMTL and LaTeX/PDF editions. Our <em>general</em> R code-chunk image format looks <em>roughly</em> like this, minus some code tics that have been removed for simplicity:</p>
<pre><code>...as shown in Figure \@ref(fig:keyword).

(ref:keyword) Caption, with optional Markdown links and image credits, but no endnotes.

{r keyword, fig.cap=&quot;(ref:keyword)&quot;}
if(knitr::is_html_output(excludes=&quot;markdown&quot;)) knitr::include_url(&quot;http://pathname-to-interactive-version-keyword.html&quot;)
else knitr::include_graphics(&quot;pathname-to-static-version-keyword.png&quot;)</code></pre>
<p>The first line generates an auto-numbered and clickable figure cross-reference call-out. Auto-numbering appears in <code>Figure x.x</code> format in HTML, PDF, and Word, but <code>Figure x</code> format in Markdown. (Word auto-number formatting can be changed with a reference.docx file.) This call-out is important because images in PDF output will “float” by design and may appear before or after the desired page.</p>
<p>The second line contains the caption, with optional links in Markdown format. But do not insert endnotes with Zotero citation keys, since those will cause errors in the PDF edition. Insert detailed endnotes about sources for images in the body of the text, and use the caption for only a brief image credits and any copyright notice.</p>
<p>The third block is the R code-chunk. (In practice, the code-chunk is set off from the other two lines using 3 code tic marks, as shown in later demos, which we omitted here for simplicity.) The first portion references keyword in the call-out and also the caption above. The latter portion may simply instruct Bookdown to include a static image (when there is no interactive version), or it may include an if-else statement for conditional formatting when both interactive and static versions exist.</p>
<p>The if statement for HTML output contains <code>(excludes="markdown")</code> because <code>markdown</code> is considered an HTML format, as described in the <a href="https://bookdown.org/yihui/rmarkdown-cookbook/latex-html.html">R Markdown Cookbook</a>. Since the publisher’s platform will accept a full-length Markdown version of the book, which displays static images rather than interactive visualizations, we need to generate the “markdown” file differently than the HTML web edition.</p>
<p>Write R code-chunk labels that use the same year and keywords as the image file name. Avoid duplicate labels across the book. Use only letters, numbers, and hyphens (not underscores):</p>
<pre><code>ref:1901-keywords-with-hyphens

images/1901-keywords-with-hyphens.png</code></pre>
<p>Do not insert spaces inside the <code>ref:chunk-label</code> for the caption. But do add a blank line to separate it from the code-chunk. After the code-chunk, add <em>another</em> blank line to avoid “undefined reference” Bookdown errors.</p>
<p>Inside the R code-chunk ref caption, do NOT use mischievous characters (such as <code>&lt;</code> or <code>&gt;</code> or <code>"</code>) that will throw HTML errors into the Markdown output images. Do not insert footnotes in the R code-chunk ref caption, which will throw PDF errors.</p>
<p>Our Bookdown <code>index.Rmd</code> file includes global R code-chunk settings immediately after the first header. One setting displays each code-chunk image without a code echo, meaning that only the image is displayed, and not the code used to generate that image. The other setting automatically inserts the PDF version of an PNG/JPG image, whenever it exists, in the PDF output, which allows us to manually reduce the size of large images displayed in the PDF book. Read more about these options in this Bookdown chapter: <a href="https://bookdown.org/yihui/bookdown/figures.html" class="uri">https://bookdown.org/yihui/bookdown/figures.html</a>.</p>
<pre><code>{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(knitr.graphics.auto_pdf = TRUE)</code></pre>
<div id="demo-r-code-chunk-for-static-image-for-all-editions-html-pdf-docx-md" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk for static image for all editions: HTML, PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-static-image-for-all-editions-html-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>…as shown in Figure <a href="images.html#fig:sample-image">9.4</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-image"></span>
<img src="images/bookdown/sample-image.png" alt="Caption with optional Markdown links but no endnotes. Source: “Hippo and crocodile” by Stig Nygaard, CC-BY."  />
<p class="caption">
Figure 9.4: Caption with optional Markdown links but no endnotes. Source: “Hippo and crocodile” by <a href="https://www.flickr.com/photos/10259776@N00">Stig Nygaard</a>, CC-BY.
</p>
</div>
</div>
<div id="demo-r-code-chunk-to-reduce-size-of-static-image-for-all-editions" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk to reduce size of static image for all editions<a href="images.html#demo-r-code-chunk-to-reduce-size-of-static-image-for-all-editions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, create a copy of the original PNG image. Use Preview or any image editor to reduce size by 50 percent or more, and if needed, increase the resolution (from 72 to 144 dpi or higher), and save. Export as PDF image with same filename as PNG file, to produce two image files: keyword.png (original) and keyword.pdf (smaller size). The global setting will auto-substitute the smaller PDF image in place of the original PNG image.</p>
<p>Second, insert an <code>out.width=...</code> in the second line to reduce the PNG display size as needed in the HTML edition. Note that this method keeps the original PNG image intact, which is ideal when working with historical images of a reasonable file size. Images larger than 3MB may be delayed in the HTML web edition for readers with slow internet connections.</p>
<p>…as shown in Figure <a href="images.html#fig:sample-image2">9.5</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-image2"></span>
<img src="images/bookdown/sample-image2.png" alt="This version reduces HTML display size using out.width=300 and auto-substitutes a smaller PDF image. Source: “Hippo and crocodile” by Stig Nygaard, CC-BY." width="300" />
<p class="caption">
Figure 9.5: This version reduces HTML display size using <code>out.width=300</code> and auto-substitutes a smaller PDF image. Source: “Hippo and crocodile” by <a href="https://www.flickr.com/photos/10259776@N00">Stig Nygaard</a>, CC-BY.
</p>
</div>
<p>R code-chunks allow more complex conditional formatting, where an interactive map or animated GIF or streaming video clip appears in the HTML version, and a manually-produced static image with an embedded link appears in the PDF, MS Word, and full-length Markdown outputs. To change the height of the default 400px iframe, add the new height to <code>include_url</code> as shown in the examples. (Note: Changing the width of the default 675px iframe to less than 100 percent requires adding a line in a <code>custom-scripts.html</code> file, and including this in the <code>index.Rmd</code> file).</p>
</div>
<div id="demo-r-code-chunk-for-iframe-in-html-static-image-in-pdf-docx-md" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk for iframe in HTML, static image in PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-iframe-in-html-static-image-in-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>…as shown in Figure <a href="images.html#fig:sample-map">9.6</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-map"></span>
<iframe src="https://handsondataviz.github.io/leaflet-map-simple/" width="672" height="375px" data-external="1">
</iframe>
<p class="caption">
Figure 9.6: <a href="https://handsondataviz.github.io/leaflet-map-simple/">Explore the full-size interactive map</a>, which enables readers of non-HTML editions to view it. View <a href="https://github.com/ontheline">open-source code and historical sources</a>, developed by list-authors-here.
</p>
</div>
<div id="demo-r-code-chunk-for-locally-stored-scrolling-pdf-in-html-static-screenshot-in-pdf-docx-md" class="section level4 unnumbered hasAnchor">
<h4>Demo: R code-chunk for locally-stored scrolling PDF in HTML, static screenshot in PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-locally-stored-scrolling-pdf-in-html-static-screenshot-in-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Be sure to add “screenshot” to the file name of the static PNG to avoid confusing it with the scrolling PDF, in case the static PNG is converted into a static PDF for better image quality in the PDF book output.</p>
<p>Note: Currently in 2021 this displays a scrolling PDF in Firefox, Chrome, but not Safari browser. Insert link to local PDF in the caption to provide workaround for readers with Safari browsers.</p>
<p>…as shown in Figure <a href="images.html#fig:sample-local-pdf">9.7</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-local-pdf"></span>
<iframe src="images/bookdown/sample-local-pdf.pdf" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 9.7: Explore the <a href="images/bookdown/sample-local-pdf.pdf">sample PDF</a> that is locally stored in the GitHub repo, with option to add more Markdown links.
</p>
</div>
</div>
</div>
<div id="demo-r-code-chunk-for-animated-gif-in-html-static-image-in-pdf-docx-md" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk for animated GIF in HTML, static image in PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-animated-gif-in-html-static-image-in-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When appropriate, create animated GIF files using the free <a href="https://giphy.com/apps/giphycapture">Giphy Capture</a> or the paid <a href="https://www.techsmith.com/video-editor.html">Camtasia</a> application, which allows the option to add fade-to-black to mark the end-point in the looped version.</p>
<p>…as shown in Figure <a href="images.html#fig:sample-gif">9.8</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-gif"></span>
<iframe src="images/bookdown/sample-gif.gif" width="672" height="250px" data-external="1">
</iframe>
<p class="caption">
Figure 9.8: View the <a href="https://handsondataviz.org/images/bookdown/sample.gif">animated GIF</a>, which enables readers of non-HTML editions to view it.
</p>
</div>
</div>
<div id="note-about-ctda-videos" class="section level3 unnumbered hasAnchor">
<h3>Note about CTDA Videos<a href="images.html#note-about-ctda-videos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As of 2020, videos uploaded to CTDA have datastreams generated in MP4 video format, but these run in auto-play format in the browser, which CTDA cannot turn off, so are not appropriate to display in the browser in this book. See sample video datastream: <a href="https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4" class="uri">https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4</a> and read more <a href="https://confluence.uconn.edu/display/CTDA/Datastreams" class="uri">https://confluence.uconn.edu/display/CTDA/Datastreams</a>. Therefore, CTDA should be used as a historical preservation video server, but must use either YouTube, Vimeo, or Kaltura examples above to display secondary video clips for display in this book.</p>
</div>
<div id="demo-r-code-chunk-for-youtube-video-in-html-static-image-in-pdf-docx-md" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk for YouTube video in HTML, static image in PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-youtube-video-in-html-static-image-in-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Be sure to use the <em>embed</em> link from a YouTube or Vimeo <em>share</em> button.</p>
<p>…as shown in the video <a href="images.html#fig:sample-video">9.9</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-video"></span>
<iframe src="https://www.youtube.com/embed/M3_TWyva5yc" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 9.9: View the <a href="https://youtu.be/M3_TWyva5yc">YouTube video</a>, which enables readers of non-HTML editions to view it. YouTube formatting in Bookdown seems cleaner than Vimeo formatting. Add link to full video on a historical preservation server (such as CTDA) to avoid auto-play issue.
</p>
</div>
<div id="demo-r-code-chunk-for-kaltura-video-in-html-edition-static-image-in-pdf-docx-md" class="section level4 unnumbered hasAnchor">
<h4>Demo: R code-chunk for Kaltura video in HTML edition, static image in PDF, DOCX, MD<a href="images.html#demo-r-code-chunk-for-kaltura-video-in-html-edition-static-image-in-pdf-docx-md" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Work with Trinity Library to upload items to their Kaltura <a href="https://trincoll.mediaspace.kaltura.com/channel/Hartford%2BHistory/144729181">Hartford History channel</a> or your personal channel.</li>
<li>Go to Kaltura video entry &gt; share button &gt; embed, extract the long URL, and paste in R code-chunk below.</li>
<li>Option: This method allows you to select a video start time, such as 8:00, which will be appended to the embed code URL in seconds like this: <code>[mediaProxy.mediaPlayFrom]=480"</code></li>
<li>This method successfully avoids auto-play in Mac browsers. TODO: test in Windows browsers and other devices.</li>
<li>Note: If you paste the long URL directly into a modern browser, the early portion of the link transforms into HTML5-specific code, which you also could use if needed.</li>
<li>TODO: Since Kaltura player setup auto-displays captions, which are faulty in the automated video upload process, need to insert corrected captions directly from the transcript. Prioritize videos that need caption revisions.</li>
</ul>
<p>…as shown in Figure <a href="images.html#fig:sample-kaltura">9.10</a>.</p>

<div class="figure"><span style="display:block;" id="fig:sample-kaltura"></span>
<iframe src="https://cdnapisec.kaltura.com/p/2366381/sp/236638100/embedIframeJs/uiconf_id/42684261/partner_id/2366381?iframeembed=true&amp;playerId=kplayer&amp;entry_id=1_66aksvf1&amp;flashvars" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 9.10: Here’s a sample caption for a video on Trinity Kaltura server. Option to add Markdown link to historical preservation version in CTDA.
</p>
</div>
</div>
</div>
<div id="demo-r-code-chunk-for-streaming-video-only-in-html" class="section level3 unnumbered hasAnchor">
<h3>Demo: R code-chunk for streaming video ONLY in HTML<a href="images.html#demo-r-code-chunk-for-streaming-video-only-in-html" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This option is useful if you wish to display a video only in the HTML edition, with no screenshot in the other editions. Note that this will alter figure auto-numbering between the HTML and other editions. To avoid auto-numbering issues, use conventional iframe formatting without the R code-chunk.</p>

<div class="figure"><span style="display:block;" id="fig:sample-video2"></span>
<iframe src="https://www.youtube.com/embed/_hmhEr1s7F0" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 9.11: Caption only appears in HTML version. View link to <a href="https://youtu.be/_hmhEr1s7F0">YouTube video</a>.
</p>
</div>
</div>
<div id="demo-markdown-image-formatting-without-auto-numbering-for-all-editions" class="section level3 unnumbered hasAnchor">
<h3>Demo: Markdown image formatting without auto-numbering, for all editions<a href="images.html#demo-markdown-image-formatting-without-auto-numbering-for-all-editions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While we normally use R code-chunk image formatting, there are some exceptions. For example, we use Markdown formatting for tables or grids of images that are relatively small and do not require captions or auto-numbering.</p>
<p>When creating images to appear as the same size in sequence, temporarily add a code-comment with the image width, height, and resolution as a reminder to match up with others, as shown below. Use PNG images (rather than JPG), and if appropriate, add a numerical suffix to the filename (image-200.png) to distinguish this 200px-wide version from the larger original.</p>
<p><code>&lt;!-- Images below are 200x200 at 300 resolution --&gt;</code></p>
<table>
<colgroup>
<col width="53%" />
<col width="46%" />
</colgroup>
<thead>
<tr class="header">
<th>Co-Authors</th>
<th>About Us</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="images/bookdown/dougherty-jack-200.png" /></td>
<td>About <a href="http://jackdougherty.org">Jack Dougherty</a></td>
</tr>
<tr class="even">
<td><img src="images/bookdown/ilyankou-ilya-200.png" /></td>
<td>About <a href="https://github.com/ilyankou">Ilya Ilyankou</a></td>
</tr>
</tbody>
</table>

</div>
</div>
<html>
  <head>
    <title>footer</title>
  </head>
  <body>
  <div><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="http://OnTheLine.trincoll.edu">On The Line</a> &copy 2024 by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="http://ontheline.trincoll.edu/authors.html">Jack Dougherty and contributors</a> is freely shared under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license.<br><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
  </body>
</html>
            </section>

          </div>
        </div>
      </div>
<a href="style-guide.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ontheline/otl-bookdown/blob/main/9.3.4-images.Rmd",
"text": null
},
"download": ["book.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
